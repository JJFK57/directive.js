var DirectiveContainer=function(){function t(t,n){if(null!=t)if(null!=t.length)for(var e=0;e<t.length;e++)n(t[e],e);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)}function n(t){var n=t.getAttribute(u);return null!=n&&n>=0}function e(t,n){null!=n?t.setAttribute(u,n):t.removeAttribute(u)}function r(t){return t.replace(/-./g,function(t){return t.charAt(1).toUpperCase()})}function i(n){var e={};return t(n.attributes,function(t){var n=t.name;if(n&&n.length){var i=t.value;void 0!==i&&(e[r(n)]=i)}}),e}var u="data-directive-id",o=function(r){function o(t){return d.push(t),function(){var n=d[t];d.splice(n,1)}}function c(){t(d,function(t){t()})}function s(n){var e={};return{$events:{},$watchers:[],on:function(t,n){p[t]=p[t]||[],p[t].push(this),this.$events[t]=this.$events[t]||[],this.$events[t].push(n)},observe:function(t,r){var i=o(function(){var i=e[t],u=n.getAttribute(t);i!==u&&(e[t]=u,r(u,i))});this.$watchers.push(i)},destroy:function(){t(this.$watchers,function(t){t()}),f(this,"destroy")}}}function f(n,e,r){var i=n.$events[e]||[];t(i,function(t){t(r)})}r=r||document.body;var a,v=0,l={},h={},p={},d=[];return a={register:function(t,n){l[t]=l[t]||[],l[t].push(n)},list:function(){var n=[];return t(l,function(e,r){t(e,function(t){n.push([r,t])})}),n},scan:function(n,e){var n=n||r;e=e||function(){return!0};var i=[];return t(l,function(r,u){t(n.querySelectorAll(u),function(n){e(n)&&t(r,function(t){i.push([n,t])})})}),i},compile:function(r){function u(t){return!n(t)}t(a.scan(r,u),function(t){var n=t[0],r=t[1],u=s(n),o=v++ +"";r.call(u,n,i(n)),h[o]=u,e(n,o)}),a.checkObservers()},decompile:function(r){t(a.scan(r,n),function(t){var n=t[0],r=n.getAttribute(u),i=h[r];i.destroy(),delete h[r],e(n,void 0)})},update:function(t){var n=r;2==arguments.length&&(n=r.querySelector(arguments[0]),t=arguments[1]),a.decompile(n),a.trigger(r,"update"),"string"==typeof t?n.innerHTML=t:(n.innerHTML="",n.appendChild(t)),a.compile(n)},trigger:function(n,e){t(p[n]||[],function(t){f(t,n,e)})},attr:function(t,n,e){t.setAttribute(n,e),a.checkObservers()},checkObservers:function(){c()}}};return o}();"object"==typeof module&&"object"==typeof module.exports&&(module.exports=DirectiveContainer);