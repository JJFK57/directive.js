var DirectiveContainer=function(){function t(t,n){if(null!=t)if(null!=t.length)for(var e=0;e<t.length;e++)n(t[e],e);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)}function n(t){var n=t.getAttribute(u);return null!=n&&n>=0}function e(t,n){null!=n?t.setAttribute(u,n):t.removeAttribute(u)}function r(t){return t.replace(/-./g,function(t){return t.charAt(1).toUpperCase()})}function i(n){var e={};return t(n.attributes,function(t){var n=t.name;if(n&&n.length){var i=t.value;void 0!==i&&(e[r(n)]=i)}}),e}var u="data-directive-id",o=function(r){function o(t){return p.push(t),function(){var n=p[t];p.splice(n,1)}}function c(){t(p,function(t){t()})}function s(n){var e={};return{$events:{},$watchers:[],on:function(t,n){h[t]=h[t]||[],h[t].push(this),this.$events[t]=this.$events[t]||[],this.$events[t].push(n)},observe:function(t,r){var i=o(function(){var i=e[t],u=n.getAttribute(t);i!==u&&(e[t]=u,r(u,i))});this.$watchers.push(i)},destroy:function(){t(this.$watchers,function(t){t()}),f(this,"destroy")}}}function f(n,e,r){var i=n.$events[e]||[];t(i,function(t){t(r)})}r=r||document.body;var a,v={},l=[],h={},p=[];return a={register:function(t,n){v[t]=v[t]||[],v[t].push(n)},list:function(){var n=[];return t(v,function(e,r){t(e,function(t){n.push([r,t])})}),n},scan:function(n){n=n||function(){return!0};var e=[];return t(v,function(i,u){t(r.querySelectorAll(u),function(r){n(r)&&t(i,function(t){e.push([r,t])})})}),e},compile:function(){function r(t){return!n(t)}t(a.scan(r),function(t){var n=t[0],r=t[1],u=s(n),o=l.length;r.call(u,n,i(n)),l.push(u),e(n,o)}),a.checkObservers()},decompile:function(){t(a.scan(n),function(t){var n=t[0],r=n.getAttribute(u),i=l[r];i.destroy(),l.splice(r,1),e(n,void 0)})},update:function(t){a.decompile(r),a.trigger(r,"update"),"string"==typeof t?r.innerHTML=t:(r.innerHTML="",r.appendChild(t)),a.compile(r)},trigger:function(n,e){t(h[n]||[],function(t){f(t,n,e)})},attr:function(t,n,e){t.setAttribute(n,e),a.checkObservers()},checkObservers:function(){c()}}};return o}();"object"==typeof module&&"object"==typeof module.exports&&(module.exports=DirectiveContainer);